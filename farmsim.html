<!DOCTYPE html>
<html lang="en">
<head>
	<title>Farm Simulator Game Test</title>
	<meta charset="UTF-8" />
	<script type="text/javascript" src="xorshift.js"></script>
	<script type="text/javascript" src="pixi.dev.js"></script>
	<script type="text/javascript">
var width;
var height;

window.onload = function() {
	width = 640;
	height = 480;
	var renderer = PIXI.autoDetectRenderer(width, height);

	document.getElementById("stage").appendChild(renderer.view);

	var stage = new PIXI.Stage;

	var rng = new Xor128();

	var groundTexture = PIXI.Texture.fromImage("assets/dirt.png");
	var ridgeTexture = PIXI.Texture.fromImage("assets/ridge.png");
	var grassTexture1 = PIXI.Texture.fromImage("assets/grass1.png");
	var grassTexture2 = PIXI.Texture.fromImage("assets/grass2.png");
	for(var x = 0; x < width / 32; x++){
		for(var y = 0; y < height / 32; y++){
			var groundSprite = new PIXI.Sprite(groundTexture);

			groundSprite.position.x = x * 32;
			groundSprite.position.y = y * 32;
			groundSprite.interactive = true;
			groundSprite.mousedown = function(id){
				id.target.setTexture(ridgeTexture);
			};
			stage.addChild(groundSprite);

			var grass = rng.next();
			if(0.3 < grass){
				var grassSprite = new PIXI.Sprite(grass < 0.6 ? grassTexture1 : grassTexture2);

				grassSprite.position.x = x * 32;
				grassSprite.position.y = y * 32;
				stage.addChild(grassSprite);
			}
		}
    }

	requestAnimationFrame(animate);

	function animate() {

		renderer.render(stage);

		requestAnimationFrame(animate);
	}
}
	</script>
</head>
<body>
<div id="header">
	<h1>Farm Simulator Game Test</h1>
</div>
<div id="stage"></div>
<hr>
Powered by <a href="https://github.com/GoodBoyDigital/pixi.js">PIXI.js</a>
</body>
</html>
